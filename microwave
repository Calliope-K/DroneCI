#!/bin/sh
# your code goes here
apt-get install -y libelf-dev cpio zstd fakeroot build-essential ncurses-dev xz-utils libssl-dev bc aria2
clear
mkdir dl
cd dl

##---------------------------------------------------------##

tg_post_msg() {
	curl -s -X POST "https://api.telegram.org/bot5101813266:AAEA4TOwRNJ44YdGhRmP63U98rWmaO11YVI/sendMessage" -d chat_id="-1001652125420" \
	-d "disable_web_page_preview=true" \
	-d "parse_mode=html" \
	-d text="$1"

}

##----------------------------------------------------------------##

tg_post_build() {
	#Post MD5Checksum alongwith for easeness
	MD5CHECK=$(md5sum "$1" | cut -d' ' -f1)

	#Show the Checksum alongwith caption
	curl --progress-bar -F document=@"$1" "https://api.telegram.org/bot5101813266:AAEA4TOwRNJ44YdGhRmP63U98rWmaO11YVI/sendDocument" \
	-F chat_id="-1001652125420"  \
	-F "disable_web_page_preview=true" \
	-F "parse_mode=Markdown" \
	-F caption="$2 | *MD5 Checksum : *\`$MD5CHECK\`"
}

namefile() {
        ls | awk '{ print $1 }'
}
file=namefile

aria2c --seed-time=0 "magnet:?xt=urn:btih:25fe2c60f85ae850e29228d1eab5abfb266e7a6c"
tg_post_build "$file" "*Uploaded...*"
# wget https://dlcdnets.asus.com/pub/ASUS/ZenFone/ZB601KL/ZB601KL-17.2017.2008.432-kernel.tar.gz
# tar -xvf ZB601KL-17.2017.2008.432-kernel.tar.gz
# git clone --depth=1 https://github.com/xanmod/linux.git -b 5.16
# cd linux
# cp msm-4.4/arch/arm64/configs/sdm660-perf_defconfig linux/arch/arm64/configs/sdm660_defconfig
# git reset --hard
# git cherry-pick
# git add . && git commit -m "PORT: drivers android" --signoff
# git push https://$GITHUB_TOKEN@github.com/vcyzteen/perf.git cafm
# wget https://raw.githubusercontent.com/vcyzteen/myscripts/min/kernel.sh
# sed -i -e 's/vcyzteen_defconfig/sdm660_defconfig/g' kernel.sh
# bash kernel.sh
# cp CONFIGS/xanmod/gcc/config .config
tg_post_msg "<code>Thank for using...</code>"
# make -j$(nproc --all) 0=out && make modules_install -j$(nproc --all) 0=out 2>&1 | tee error.log
