#!/bin/sh
# your code goes here
curl -s https://github.com/vcyzteen.gpg | gpg --import
git clone --depth=1 https://$GITHUB_TOKEN@github.com/vcyzteen/android_kernel_sm8250.git -b chesse
cd android_kernel_sm8250
export KBUILD_BUILD_USER=vcyzteen
export KBUILD_BUILD_HOST=voidlinux
make -j$(nproc) O=out ARCH=arm64 vendor/syberia_defconfig
make -j$(nproc) ARCH=arm64 O=out \
                CROSS_COMPILE=aarch64-linux-gnu- \
                CROSS_COMPILE_ARM32=arm-linux-gnueabi- \
                CC=clang \
                AR=llvm-ar \
                OBJDUMP=llvm-objdump \
                STRIP=llvm-strip \
                NM=llvm-nm \
                OBJCOPY=llvm-objcopy \
                LD=ld.lld
# wget https://raw.githubusercontent.com/vcyzteen/myscripts/clang/kernel.sh
# bash kernel.sh
ls out/arch/arm64/boot
